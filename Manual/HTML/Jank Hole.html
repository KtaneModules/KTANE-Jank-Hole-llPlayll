<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Jank Hole — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        .dark table, table {
            margin: 1em auto;
            border: none;
        }
        .dark .centered-img { filter: invert(90%); }
        .page-footer::before { content: 'Page '; }
        .page-footer::after { content: ' of 4'; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Jank Hole</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Black Hole.svg" class="diagram"> <!--Should be replaced with the actual BH svg as there is no real visual diferrence between this module and BH.-->
                <h2>On the Subject of Jank Hole</h2>
                <p class="flavour-text">Holeker.</p>

                <p>
                    This module contains a Jank Hole, which will flash a sequence of 10 colors which can be
                    <b>R</b>ed, <b>G</b>reen, <b>B</b>lue, <b>C</b>yan, <b>M</b>agenta, <b>Y</b>ellow or <b>W</b>hite.
                    There will be a pause between the start and the end of the sequence, where a swamp green color will be shown.
                </p>
                
                <p>
                    To solve the module, obtain a code consisting of letters A-Z.
                </p>

                <p>
                    In this module, when doing operations with letters, use their alphabetic positions, where Z = 0, A = 1, B = 2... Y = 25,
                    same with converting numbers to letters.
                </p>

                <p>
                    First, using the serial number, find the goal letters X, Y and Z.
                </p>

                <ul><li>If there are two letters in the serial number:<ul><li>The first two letters of the serial number are X and Y, to find Z, take the absolute difference between X and Y, then divide it by 2, if there are more unlit indicators than lit indicators, round down, otherwise, round up. Then convert the result into a letter using alphabetic position, it will be letter Z.</li></ul></li></ul>

                <ul><li>If there are three letters in the serial number:<ul><li>The serial number letters are going to be X, Y and Z.</li></ul></li></ul>

                <ul><li>If there are four letters in the serial number:<ul><li>Find the absolute difference between the 1st and 2nd letter of serial number, 2nd and 3rd, 3rd and 4th. Convert the results into letters using alphabetic position, in order the letters are going to be X, Y and Z.</li></ul></li></ul>
                
                <p>
                    Then, figure out the two keys: <b>Key A</b> and <b>Key B</b>, using the color sequence and the table below.
                    For <b>Key A</b>, use the first 5 colors of the sequence in order, for <b>Key B</b> use the last 5 colors in order.
                    Both of the Keys start as empty strings and the table will add letters to them or modify the keys.
                    First, figure out <b>Key A</b>, then figure out <b>Key B</b>, as <b>Key A</b> may be used in calculating <b>Key B</b>.
                </p>
            </div>
            <div class="page-footer relative-footer">1</div>
        </div>

        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Jank Hole</span>
            </div>
            <div class="page-content">
                <table>
                    <tr>
                        <th>Color\Key</th>
                        <th><b>Key A</b></th>
                        <th><b>Key B</b></th>
                    </tr>
                    <tr>
                        <td>Red</td>
                        <td>If last digit of the serial number is even, append "EVEN" to <b>Key A</b>, otherwise append "ODD" to <b>Key A</b>.</td>
                        <td>Reverse <b>Key B</b>.</td>
                    </tr>
                    <tr>
                        <td>Green</td>
                        <td>Rearrange <b>Key A</b> so that letters with odd positions are listed first, while the letters with even positions are listed after.</td>
                        <td>Reverse the second half of <b>Key B</b> (the half will contain last [(Length of <b>Key B</b>) / 2, rounded up] letters of <b>Key B</b>).</td>
                    </tr>
                    <tr>
                        <td>Blue</td>
                        <td>Reverse the first half of <b>Key A</b> (the half will contain first [(Length of <b>Key A</b>) / 2, rounded down] letters of <b>Key A</b>).</td>
                        <td>Append <b>Key A</b> to <b>Key B</b>.</td>
                    </tr>
                    <tr>
                        <td>Cyan</td>
                        <td>Reverse <b>Key A</b>.</td>
                        <td>Rearrange <b>Key B</b> so that letters with even positions are listed first, while the letters with odd positions are listed after.</td>
                    </tr>
                    <tr>
                        <td>Magenta</td>
                        <td>Append the name of each lit indicator in alphabetical order to <b>Key A</b>.</td>
                        <td>If the length of <b>Key A</b> is odd, append the letter in the center of <b>Key A</b> to <b>Key B</b>, otherwise append the first letter of <b>Key A</b> to <b>Key B</b>.</td>
                    </tr>
                    <tr>
                        <td>Yellow</td>
                        <td>Append the Goal Letters in order of X, Y and Z to <b>Key A</b>.</td>
                        <td>Append the name of each unlit indicator in alphabetical order to <b>Key B</b>.</td>
                    </tr>
                    <tr>
                        <td>White</td>
                        <td>Append all the serial number letters in order left to right to <b>Key A</b>.</td>
                        <td>Append all the serial number digits in order left to right, converted to a letter using the digits as the alphabetic positions to <b>Key B</b>.</td>
                    </tr>
                </table>
                <p>
                    After figuring out <b>Key A</b> and <b>Key B</b>, for each of the keys:
                </p>
                <ul><li>Append the alphabet to the key.</li></ul>
                <ul><li>If there are duplicate letters, only keep the first occurrences.</li></ul>
            </div>
            <div class="page-footer relative-footer">2</div>
        </div>

        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Jank Hole</span>
            </div>
            <div class="page-content">
                <p>
                    Then, go through both of the keys left to right at the same time.
                    If the current letters from both of the keys are the same,
                    add 1 to <b>Key B</b>'s letter at the current position, looping back to Z at 26.
                    These are your final <b>Key A</b> and <b>Key B</b>.
                </p>
                <p>
                    Next, use your goal letters to create a binary grid, which will always have 3 rows.
                </p>
                <p>
                    Take your goal letters and split them into three rows, then translate each letter into morse code.
                    Then, convert each morse into binary where:
                </p>
                    <ul><li>A dash is represented by "111".</li></ul>
                    <ul><li>A dot is represented by "1".</li></ul>
                    <ul><li>A space between each dot and dash character is represented by "0".</li></ul>
                <p>
                    If there is a row that is shorter than the others, append 0s to that row until it reaches the length of the longest row.
                </p>
                <p>Then, create a zeros grid and a ones grid in the paragraph below using the Keys you made,
                    where <b>Key A</b> will be used to make the zeros grid and <b>Key B</b> will be used to make the ones grid.
                </p>
                <p>
                    Create an empty grid with the same size as the binary grid and fill it with the key in reading order,
                    looping back to the start of the key when reaching the end.
                </p>
                <p>
                    The Jank Hole will submit letters in braille reading order (Going through each column top to bottom, left to right).
                    Refer to <a href="https://ktane.timwi.de/HTML/Supermassive%20Black%20Hole.html#bhAB-table">"Appendix - BHSCII Table"</a> for how to enter letters.
                    In the table,
                    a dot means a color switch in the sequence,
                    a vertical line line means that you need to press and immediately release the hole,
                    and square brackets mean holding the hole for one or more color switches. 
                    Your input will be automatically submitted in the pause between the start and the end of the sequence, 
                    and the letter that was inputted will be shown.
                    If it's not a valid letter, a "?" will be shown.
                    The [ppp] gesture (a hold for 3 color switches) will display the number of entered letters in the pause, accounting for the skipped letters
                    (If you do the [ppp] gesture after entering one letter and solving one module, 4 will be displayed).
                </p>
                <p>
                    Submitting the letter at the current position in the zeros grid will submit a zero,
                    and submitting the letter at the current position in the ones grid will submit a one,
                    while submitting a letter which is from neither of the grids at the current position will make the module strike.
                </p>
            </div>
            <div class="page-footer relative-footer">3</div>
        </div>
        <div class="page page-bg-04">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Jank Hole</span>
            </div>
            <div class="page-content">
                <p>
                    Submit letters to recreate the binary grid.
                    Submitting a 1 while the number at the current position in the binary grid is a 0, and vice versa,
                    will also make the module strike, otherwise the module will accept the input.
                    The letters you need to submit for each position of the binary grid in braille reading order will form the <b>Solution Code</b>.
                    The module will be solved once the correct letter is submitted for the <b>8th</b> position of the <b>Solution Code</b>.
                </p>
                <p>
                    If you solve a non-Jank Hole module on the bomb after entering the correct letter for the binary grid
                    the amount of numbers that need to be entered will be shortened by 3 (so, next 3 digits of the binary grid will be skipped),
                    unless the code is currently 3 or less characters long, in which case you will have to enter the last letter of the code.
                </p>
                <img src="img/Jank Hole/morse-letters.svg" class="centered-img"> <!--Should be replaced with the svg from Morse Mar-->
            </div>
            <div class="page-footer relative-footer">4</div>
        </div>
    </div>
</body>
</html>